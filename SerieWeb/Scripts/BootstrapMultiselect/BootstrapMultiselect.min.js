!function(n){"use strict";function i(n,t){for(var i=0;i<n.length;++i)t(n[i],i)}function t(t,i){this.$select=n(t);this.$select.attr("data-placeholder")&&(i.nonSelectedText=this.$select.data("placeholder"));this.options=this.mergeOptions(n.extend({},i,this.$select.data()));this.originalOptions=this.$select.clone()[0].options;this.query="";this.searchTimeout=null;this.lastToggledInput=null;this.options.multiple="multiple"===this.$select.attr("multiple");this.options.onChange=n.proxy(this.options.onChange,this);this.options.onDropdownShow=n.proxy(this.options.onDropdownShow,this);this.options.onDropdownHide=n.proxy(this.options.onDropdownHide,this);this.options.onDropdownShown=n.proxy(this.options.onDropdownShown,this);this.options.onDropdownHidden=n.proxy(this.options.onDropdownHidden,this);this.options.onInitialized=n.proxy(this.options.onInitialized,this);this.buildContainer();this.buildButton();this.buildDropdown();this.buildSelectAll();this.buildDropdownOptions();this.buildFilter();this.updateButtonText();this.updateSelectAll(!0);this.options.disableIfEmpty&&n("option",this.$select).length<=0&&this.disable();this.$select.hide().after(this.$container);this.options.onInitialized(this.$select,this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={after:["options","value","selectedOptions","enable","disable"],init:function(t,i,r){var u=n(t),l=ko.toJS(i()),s,h,c,f,e,o;(u.multiselect(l),r.has("options"))&&(s=r.get("options"),ko.isObservable(s)&&ko.computed({read:function(){s();setTimeout(function(){var n=u.data("multiselect");n&&n.updateOriginalOptions();u.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:t}));r.has("value")&&(h=r.get("value"),ko.isObservable(h)&&ko.computed({read:function(){h();setTimeout(function(){u.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0}));r.has("selectedOptions")&&(c=r.get("selectedOptions"),ko.isObservable(c)&&ko.computed({read:function(){c();setTimeout(function(){u.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0}));f=function(n){setTimeout(function(){n?u.multiselect("enable"):u.multiselect("disable")})};r.has("enable")&&(e=r.get("enable"),ko.isObservable(e)?ko.computed({read:function(){f(e())},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0}):f(e));r.has("disable")&&(o=r.get("disable"),ko.isObservable(o)?ko.computed({read:function(){f(!o())},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0}):f(!o));ko.utils.domNodeDisposal.addDisposeCallback(t,function(){u.multiselect("destroy")})},update:function(t,i){var r=n(t),u=ko.toJS(i());r.multiselect("setOptions",u);r.multiselect("rebuild")}});t.prototype={defaults:{buttonText:function(t,i){if(this.disabledText.length>0&&(this.disableIfEmpty||i.prop("disabled"))&&0==t.length)return this.disabledText;if(0===t.length)return this.nonSelectedText;if(this.allSelectedText&&t.length===n("option",n(i)).length&&1!==n("option",n(i)).length&&this.multiple)return this.selectAllNumber?this.allSelectedText+" ("+t.length+")":this.allSelectedText;if(t.length>this.numberDisplayed)return t.length+" "+this.nSelectedText;var r="",u=this.delimiterText;return t.each(function(){var t=void 0!==n(this).attr("label")?n(this).attr("label"):n(this).text();r+=t+u}),r.substr(0,r.length-2)},buttonTitle:function(t){if(0===t.length)return this.nonSelectedText;var i="",r=this.delimiterText;return t.each(function(){var t=void 0!==n(this).attr("label")?n(this).attr("label"):n(this).text();i+=t+r}),i.substr(0,i.length-2)},optionLabel:function(t){return n(t).attr("label")||n(t).text()},optionClass:function(t){return n(t).attr("class")||""},onChange:function(){},onDropdownShow:function(){},onDropdownHide:function(){},onDropdownShown:function(){},onDropdownHidden:function(){},onSelectAll:function(){},onInitialized:function(){},enableHTML:!1,buttonClass:"btn btn-default",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,dropUp:!1,selectedClass:"active",maxHeight:!1,checkboxName:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,selectAllJustVisible:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableFullValueFiltering:!1,enableClickableOptGroups:!1,enableCollapsibelOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,disabledText:"",delimiterText:", ",templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"><\/span> <b class="caret"><\/b><\/button>',ul:'<ul class="multiselect-container dropdown-menu"><\/ul>',filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"><\/i><\/span><input class="form-control multiselect-search" type="text"><\/div><\/li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"><\/i><\/button><\/span>',li:'<li><a tabindex="0"><label><\/label><\/a><\/li>',divider:'<li class="multiselect-item divider"><\/li>',liGroup:'<li class="multiselect-item multiselect-group"><label><\/label><\/li>'}},constructor:t,buildContainer:function(){this.$container=n(this.options.buttonContainer);this.$container.on("show.bs.dropdown",this.options.onDropdownShow);this.$container.on("hide.bs.dropdown",this.options.onDropdownHide);this.$container.on("shown.bs.dropdown",this.options.onDropdownShown);this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=n(this.options.templates.button).addClass(this.options.buttonClass);this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class"));this.$select.prop("disabled")?this.disable():this.enable();this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:this.options.buttonWidth,overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth}));var t=this.$select.attr("tabindex");t&&this.$button.attr("tabindex",t);this.$container.prepend(this.$button)},buildDropdown:function(){if(this.$ul=n(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.options.dropUp){var t=Math.min(this.options.maxHeight,26*n('option[data-role!="divider"]',this.$select).length+19*n('option[data-role="divider"]',this.$select).length+(this.options.includeSelectAllOption?26:0)+(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering?44:0)),i=t+34;this.$ul.css({"max-height":t+"px","overflow-y":"auto","overflow-x":"hidden","margin-top":"-"+i+"px"})}this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(n.proxy(function(t,i){var r=n(i),u=r.prop("tagName").toLowerCase();r.prop("value")!==this.options.selectAllValue&&("optgroup"===u?this.createOptgroup(i):"option"===u&&("divider"===r.data("role")?this.createDivider():this.createOptionValue(i)))},this));n("li input",this.$ul).on("change",n.proxy(function(t){var i=n(t.target),u=i.prop("checked")||!1,o=i.val()===this.options.selectAllValue;this.options.selectedClass&&(u?i.closest("li").addClass(this.options.selectedClass):i.closest("li").removeClass(this.options.selectedClass));var s=i.val(),r=this.getOptionByValue(s),f=n("option",this.$select).not(r),e=n("input",this.$container).not(i);return o?u?this.selectAll(this.options.selectAllJustVisible):this.deselectAll(this.options.selectAllJustVisible):(u?(r.prop("selected",!0),this.options.multiple?r.prop("selected",!0):(this.options.selectedClass&&n(e).closest("li").removeClass(this.options.selectedClass),n(e).prop("checked",!1),f.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&f.closest("a").css("outline","")):r.prop("selected",!1),this.options.onChange(r,u)),this.$select.change(),this.updateButtonText(),this.updateSelectAll(),this.options.preventInputChangeEvent?!1:void 0},this));n("li a",this.$ul).on("mousedown",function(n){if(n.shiftKey)return!1});n("li a",this.$ul).on("touchstart click",n.proxy(function(t){var i,e,u,r,s,f,o,h,c,l;if(t.stopPropagation(),i=n(t.target),t.shiftKey&&this.options.multiple){if(i.is("label")&&(t.preventDefault(),i=i.find("input"),i.prop("checked",!i.prop("checked"))),e=i.prop("checked")||!1,null!==this.lastToggledInput&&this.lastToggledInput!==i)for(u=i.closest("li").index(),r=this.lastToggledInput.closest("li").index(),u>r&&(s=r,r=u,u=s),++r,f=this.$ul.find("li").slice(u,r).find("input"),f.prop("checked",e),this.options.selectedClass&&f.closest("li").toggleClass(this.options.selectedClass,e),o=0,h=f.length;h>o;o++)c=n(f[o]),l=this.getOptionByValue(c.val()),l.prop("selected",e);i.trigger("change")}i.is("input")&&!i.closest("li").is(".multiselect-item")&&(this.lastToggledInput=i);i.blur()},this));this.$container.off("keydown.multiselect").on("keydown.multiselect",n.proxy(function(t){var r,i,f,u;if(!n('input[type="text"]',this.$container).is(":focus"))if(9===t.keyCode&&this.$container.hasClass("open"))this.$button.click();else{if(r=n(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible"),!r.length)return;i=r.index(r.filter(":focus"));38===t.keyCode&&i>0?i--:40===t.keyCode&&i<r.length-1?i++:~i||(i=0);f=r.eq(i);(f.focus(),32===t.keyCode||13===t.keyCode)&&(u=f.find("input"),u.prop("checked",!u.prop("checked")),u.change());t.stopPropagation();t.preventDefault()}},this));this.options.enableClickableOptGroups&&this.options.multiple&&n("li.multiselect-group",this.$ul).on("click",n.proxy(function(t){t.stopPropagation();console.log("test");var f=n(t.target).parent(),e=f.nextUntil("li.multiselect-group"),o=e.filter(":visible:not(.disabled)"),i=!0,u=o.find("input"),r=[];u.each(function(){i=i&&n(this).prop("checked");r.push(n(this).val())});i?this.deselect(r,!1):this.select(r,!1);this.options.onChange(u,!i)},this));this.options.enableCollapsibleOptGroups&&this.options.multiple&&(n("li.multiselect-group input",this.$ul).off(),n("li.multiselect-group",this.$ul).siblings().not("li.multiselect-group, li.multiselect-all",this.$ul).each(function(){n(this).toggleClass("hidden",!0)}),n("li.multiselect-group",this.$ul).on("click",n.proxy(function(n){n.stopPropagation()},this)),n("li.multiselect-group > a > b",this.$ul).on("click",n.proxy(function(t){t.stopPropagation();var u=n(t.target).closest("li"),r=u.nextUntil("li.multiselect-group"),i=!0;r.each(function(){i=i&&n(this).hasClass("hidden")});r.toggleClass("hidden",!i)},this)),n("li.multiselect-group > a > input",this.$ul).on("change",n.proxy(function(t){t.stopPropagation();var u=n(t.target).closest("li"),f=u.nextUntil("li.multiselect-group",":not(.disabled)"),r=f.find("input"),i=!0;r.each(function(){i=i&&n(this).prop("checked")});r.prop("checked",!i).trigger("change")},this)),n("li.multiselect-group",this.$ul).each(function(){var i=n(this).nextUntil("li.multiselect-group",":not(.disabled)"),r=i.find("input"),t=!0;r.each(function(){t=t&&n(this).prop("checked")});n(this).find("input").prop("checked",t)}),n("li input",this.$ul).on("change",n.proxy(function(t){t.stopPropagation();var r=n(t.target).closest("li"),u=r.prevUntil("li.multiselect-group",":not(.disabled)"),f=r.nextUntil("li.multiselect-group",":not(.disabled)"),e=u.find("input"),o=f.find("input"),i=n(t.target).prop("checked");e.each(function(){i=i&&n(this).prop("checked")});o.each(function(){i=i&&n(this).prop("checked")});r.prevAll(".multiselect-group").find("input").prop("checked",i)},this)),n("li.multiselect-all",this.$ul).css("background","#f3f3f3").css("border-bottom","1px solid #eaeaea"),n("li.multiselect-group > a, li.multiselect-all > a > label.checkbox",this.$ul).css("padding","3px 20px 3px 35px"),n("li.multiselect-group > a > input",this.$ul).css("margin","4px 0px 5px -20px"))},createOptionValue:function(t){var r=n(t),i,e;r.is(":selected")&&r.prop("selected",!0);var o=this.options.optionLabel(t),c=this.options.optionClass(t),s=r.val(),h=this.options.multiple?"checkbox":"radio",f=n(this.options.templates.li),u=n("label",f);u.addClass(h);f.addClass(c);this.options.enableHTML?u.html(" "+o):u.text(" "+o);i=n("<input/>").attr("type",h);this.options.checkboxName&&i.attr("name",this.options.checkboxName);u.prepend(i);e=r.prop("selected")||!1;i.val(s);s===this.options.selectAllValue&&(f.addClass("multiselect-item multiselect-all"),i.parent().parent().addClass("multiselect-all"));u.attr("title",r.attr("title"));this.$ul.append(f);r.is(":disabled")&&i.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled");i.prop("checked",e);e&&this.options.selectedClass&&i.closest("li").addClass(this.options.selectedClass)},createDivider:function(){var t=n(this.options.templates.divider);this.$ul.append(t)},createOptgroup:function(t){var u,i;if(this.options.enableCollapsibleOptGroups&&this.options.multiple){var f=n(t).attr("label"),e=n(t).attr("value"),r=n('<li class="multiselect-item multiselect-group"><a href="javascript:void(0);"><input type="checkbox" value="'+e+'"/><b> '+f+'<b class="caret"><\/b><\/b><\/a><\/li>');this.options.enableClickableOptGroups&&r.addClass("multiselect-group-clickable");this.$ul.append(r);n(t).is(":disabled")&&r.addClass("disabled");n("option",t).each(n.proxy(function(n,t){this.createOptionValue(t)},this))}else u=n(t).prop("label"),i=n(this.options.templates.liGroup),this.options.enableHTML?n("label",i).html(u):n("label",i).text(u),this.options.enableClickableOptGroups&&i.addClass("multiselect-group-clickable"),this.$ul.append(i),n(t).is(":disabled")&&i.addClass("disabled"),n("option",t).each(n.proxy(function(n,t){this.createOptionValue(t)},this))},buildSelectAll:function(){var r,t,i;"number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString());r=this.hasSelectAll();!r&&this.options.includeSelectAllOption&&this.options.multiple&&n("option",this.$select).length>this.options.includeSelectAllIfMoreThan&&(this.options.includeSelectAllDivider&&this.$ul.prepend(n(this.options.templates.divider)),t=n(this.options.templates.li),n("label",t).addClass("checkbox"),this.options.enableHTML?n("label",t).html(" "+this.options.selectAllText):n("label",t).text(" "+this.options.selectAllText),this.options.selectAllName?n("label",t).prepend('<input type="checkbox" name="'+this.options.selectAllName+'" />'):n("label",t).prepend('<input type="checkbox" />'),i=n("input",t),i.val(this.options.selectAllValue),t.addClass("multiselect-item multiselect-all"),i.parent().parent().addClass("multiselect-all"),this.$ul.prepend(t),i.prop("checked",!1))},buildFilter:function(){var i,t;(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering)&&(i=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering),this.$select.find("option").length>=i&&((this.$filter=n(this.options.templates.filter),n("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn)&&(t=n(this.options.templates.filterClearBtn),t.on("click",n.proxy(function(){clearTimeout(this.searchTimeout);this.$filter.find(".multiselect-search").val("");n("li",this.$ul).show().removeClass("filter-hidden");this.updateSelectAll()},this)),this.$filter.find(".input-group").append(t)),this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(n){n.stopPropagation()}).on("input keydown",n.proxy(function(t){13===t.which&&t.preventDefault();clearTimeout(this.searchTimeout);this.searchTimeout=this.asyncFunction(n.proxy(function(){if(this.query!==t.target.value){this.query=t.target.value;var i,r;n.each(n("li",this.$ul),n.proxy(function(t,u){var o=n("input",u).length>0?n("input",u).val():"",s=n("label",u).text(),e="",f,h;("text"===this.options.filterBehavior?e=s:"value"===this.options.filterBehavior?e=o:"both"===this.options.filterBehavior&&(e=s+"\n"+o),o!==this.options.selectAllValue&&s)&&(f=!1,(this.options.enableCaseInsensitiveFiltering&&(e=e.toLowerCase(),this.query=this.query.toLowerCase()),this.options.enableFullValueFiltering&&"both"!==this.options.filterBehavior)?(h=e.trim().substring(0,this.query.length),this.query.indexOf(h)>-1&&(f=!0)):e.indexOf(this.query)>-1&&(f=!0),n(u).toggle(f).toggleClass("filter-hidden",!f),n(u).hasClass("multiselect-group")?(i=u,r=f):(f&&n(i).show().removeClass("filter-hidden"),!f&&r&&n(u).show().removeClass("filter-hidden")))},this))}this.updateSelectAll()},this),300,this)},this))))},destroy:function(){this.$container.remove();this.$select.show();this.$select.data("multiselect",null)},refresh:function(){var t=n.map(n("li input",this.$ul),n);n("option",this.$select).each(n.proxy(function(i,r){for(var u,f=n(r),o=f.val(),e=t.length;0<e--;)if(o===(u=t[e]).val()){f.is(":selected")?(u.prop("checked",!0),this.options.selectedClass&&u.closest("li").addClass(this.options.selectedClass)):(u.prop("checked",!1),this.options.selectedClass&&u.closest("li").removeClass(this.options.selectedClass));f.is(":disabled")?u.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):u.prop("disabled",!1).closest("li").removeClass("disabled");break}},this));this.updateButtonText();this.updateSelectAll()},select:function(t,i){var u,r,f,e;for(n.isArray(t)||(t=[t]),u=0;u<t.length;u++)r=t[u],null!==r&&void 0!==r&&(f=this.getOptionByValue(r),e=this.getInputByValue(r),void 0!==f&&void 0!==e&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&e.closest("li").addClass(this.options.selectedClass),e.prop("checked",!0),f.prop("selected",!0),i&&this.options.onChange(f,!0)));this.updateButtonText();this.updateSelectAll()},clearSelection:function(){this.deselectAll(!1);this.updateButtonText();this.updateSelectAll()},deselect:function(t,i){var u,r,f,e;for(n.isArray(t)||(t=[t]),u=0;u<t.length;u++)r=t[u],null!==r&&void 0!==r&&(f=this.getOptionByValue(r),e=this.getInputByValue(r),void 0!==f&&void 0!==e&&(this.options.selectedClass&&e.closest("li").removeClass(this.options.selectedClass),e.prop("checked",!1),f.prop("selected",!1),i&&this.options.onChange(f,!1)));this.updateButtonText();this.updateSelectAll()},selectAll:function(t,i){var f;t=this.options.enableCollapsibleOptGroups&&this.options.multiple?!1:t;var t="undefined"==typeof t?!0:t,r=n("li input[type='checkbox']:enabled",this.$ul),u=r.filter(":visible"),e=r.length,o=u.length;(t?(u.prop("checked",!0),n("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").addClass(this.options.selectedClass)):(r.prop("checked",!0),n("li:not(.divider):not(.disabled)",this.$ul).addClass(this.options.selectedClass)),e===o||t===!1)?n("option:not([data-role='divider']):enabled",this.$select).prop("selected",!0):(f=u.map(function(){return n(this).val()}).get(),n("option:enabled",this.$select).filter(function(){return-1!==n.inArray(n(this).val(),f)}).prop("selected",!0));i&&this.options.onSelectAll()},deselectAll:function(t){var i,r;(t=this.options.enableCollapsibleOptGroups&&this.options.multiple?!1:t,t="undefined"==typeof t?!0:t)?(i=n("li input[type='checkbox']:not(:disabled)",this.$ul).filter(":visible"),i.prop("checked",!1),r=i.map(function(){return n(this).val()}).get(),n("option:enabled",this.$select).filter(function(){return-1!==n.inArray(n(this).val(),r)}).prop("selected",!1),this.options.selectedClass&&n("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").removeClass(this.options.selectedClass)):(n("li input[type='checkbox']:enabled",this.$ul).prop("checked",!1),n("option:enabled",this.$select).prop("selected",!1),this.options.selectedClass&&n("li:not(.divider):not(.disabled)",this.$ul).removeClass(this.options.selectedClass))},rebuild:function(){this.$ul.html("");this.options.multiple="multiple"===this.$select.attr("multiple");this.buildSelectAll();this.buildDropdownOptions();this.buildFilter();this.updateButtonText();this.updateSelectAll(!0);this.options.disableIfEmpty&&n("option",this.$select).length<=0?this.disable():this.enable();this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(t){var r=0,u=this.$select.empty();n.each(t,function(t,f){var e;n.isArray(f.children)?(r++,e=n("<optgroup/>").attr({label:f.label||"Group "+r,disabled:!!f.disabled}),i(f.children,function(t){e.append(n("<option/>").attr({value:t.value,label:t.label||t.value,title:t.title,selected:!!t.selected,disabled:!!t.disabled}))})):(e=n("<option/>").attr({value:f.value,label:f.label||f.value,title:f.title,"class":f["class"],selected:!!f.selected,disabled:!!f.disabled}),e.text(f.label||f.value));u.append(e)});this.rebuild()},enable:function(){this.$select.prop("disabled",!1);this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0);this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(n){this.options=this.mergeOptions(n)},mergeOptions:function(t){return n.extend(!0,{},this.defaults,this.options,t)},hasSelectAll:function(){return n("li.multiselect-all",this.$ul).length>0},updateSelectAll:function(t){if(this.hasSelectAll()){var u=n("li:not(.multiselect-item):not(.filter-hidden) input:enabled",this.$ul),e=u.length,i=u.filter(":checked").length,r=n("li.multiselect-all",this.$ul),f=r.find("input");i>0&&i===e?(f.prop("checked",!0),r.addClass(this.options.selectedClass),this.options.onSelectAll(!0)):(f.prop("checked",!1),r.removeClass(this.options.selectedClass),0===i&&(t||this.options.onSelectAll(!1)))}},updateButtonText:function(){var t=this.getSelected();this.options.enableHTML?n(".multiselect .multiselect-selected-text",this.$container).html(this.options.buttonText(t,this.$select)):n(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(t,this.$select));n(".multiselect",this.$container).attr("title",this.options.buttonTitle(t,this.$select))},getSelected:function(){return n("option",this.$select).filter(":selected")},getOptionByValue:function(t){for(var r,u=n("option",this.$select),f=t.toString(),i=0;i<u.length;i+=1)if(r=u[i],r.value===f)return n(r)},getInputByValue:function(t){for(var r,u=n("li input",this.$ul),f=t.toString(),i=0;i<u.length;i+=1)if(r=u[i],r.value===f)return n(r)},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(n,t,i){var r=Array.prototype.slice.call(arguments,3);return setTimeout(function(){n.apply(i||window,r)},t)},setAllSelectedText:function(n){this.options.allSelectedText=n;this.updateButtonText()}};n.fn.multiselect=function(i,r,u){return this.each(function(){var f=n(this).data("multiselect"),e="object"==typeof i&&i;f||(f=new t(this,e),n(this).data("multiselect",f));"string"==typeof i&&(f[i](r,u),"destroy"===i&&n(this).data("multiselect",!1))})};n.fn.multiselect.Constructor=t;n(function(){n("select[data-role=multiselect]").multiselect()})}(window.jQuery);