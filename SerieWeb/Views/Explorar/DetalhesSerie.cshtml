@model  SerieWeb.Models.SerieViewModels.DetalhesSerieViewModel
@{
    ViewBag.Title = "Detalhes Serie";
    var Indicacoes = (List<SerieWeb.Models.Serie>)ViewBag.Indicacoes;
    
}



<!--Comentario do facebook responsivo-->
<style>
    .fb-comments, .fb-comments span, .fb-comments.fb_iframe_widget span iframe {
        width: 100% !important;
    }
</style>

@foreach (var item in Model.serie)
{
    <div class="container-fluid DetalhesSerie" id="toTop">
        <div class="containerDetalhesSerie container">
            <div class="row">
                <div class="col-sm-4 col-md-4 col-lg-4 col-xl-4 containerImagemdetalhes">
                    <img src="@item.Imagem" class="img-seriedetalhes img-responsive rounded mx-auto d-block" alt="Responsive image">
                </div>
                @*<div class="col-8 containerInfoDetalhes">
                        <h1 class="text-white">@item.NomeSerie</h1>
                        <br />
                        <br />
                        <div class="row btnDetalhes">
                            <div class="col-3">
                                <button type="button" class="btn btn-default BtnStar">
                                    <img src="~/Content/SVG/star.svg" /> Classificar
                                </button>
                            </div>
                            <div class="col-3">
                                @if (User.Identity.IsAuthenticated == true)
                                {
                                    using (Html.BeginForm("SalvarFavorito", "Explorar", FormMethod.Post))
                                    {
                                        @Html.AntiForgeryToken()
                                        <input type="hidden" name="IdSerie" value="@item.SerieID" />
                                        <button type="submit" class="btn btn-default BtnFavorito" data-toggle="tooltip" data-placement="bottom" title="Adicionar aos Favoritos"><img src="~/Content/SVG/favorito.svg" />Favoritar</button>
                                    }
                                }
                                else
                                {
                                    <button class="btn btn-default BtnFavorito" data-toggle="tooltip" data-placement="bottom" title="Faça o login e adicione a sua lista de Favoritos"><img src="~/Content/SVG/favorito.svg" />Favoritar</button>
                                }
                            </div>
                            <div class="col-3">
                                @if (User.Identity.IsAuthenticated == true)
                                {
                                    using (Html.BeginForm("InteresseSerie", "Explorar", FormMethod.Post))
                                    {
                                        @Html.AntiForgeryToken()
                                        <input type="hidden" name="IdSerie" value="@item.SerieID" />
                                        <button type="submit" class="btn btn-default BtnLike" data-toggle="tooltip" data-placement="bottom" title="Adicionar a lista de interesse"><img src="~/Content/SVG/like.svg" />Interesse</button>
                                    }

                                }
                                else
                                {
                                        <button type="button" class="btn btn-default BtnLike" data-toggle="tooltip" data-placement="bottom" title="Faça o login para adicionar a sua lista de interesse"><img src="~/Content/SVG/like.svg" />Interesse</button>
                                }
                            </div>
                            <div class="col-3">
                                <button href="#trailer" class="btn btn-default BtnFavorito">
                                    <img src="~/Content/SVG/play.svg" />Assistir trailer
                                </button>
                            </div>
                        </div>
                        <div>
                            <h2 class="text-white">Sinopse</h2>
                            <p class="text-justify text-white">@item.Sinopse</p>
                        </div>
                    </div>*@

                <div class="col-8 containerInfoDetalhes">

                    <h1 class="text-white">@item.NomeSerie</h1>
                    <br />
                    <button type="button" class="btn btn-default BtnStar">
                        <img src="~/Content/SVG/star.svg" /> Classificar
                    </button>
                    @if (User.Identity.IsAuthenticated == true)
                    {
                        using (Html.BeginForm("SalvarFavorito", "Explorar", FormMethod.Post))
                        {
                            @Html.AntiForgeryToken()
                            <input type="hidden" name="IdSerie" value="@item.SerieID" />
                            <button type="submit" class="btn btn-default BtnFavorito" data-toggle="tooltip" data-placement="bottom" title="Adicionar aos Favoritos"><img src="~/Content/SVG/favorito.svg" /> Favoritar</button>
                        }
                    }
                    else
                    {
                        <button class="btn btn-default BtnFavorito" data-toggle="tooltip" data-placement="bottom" title="Faça o login e adicione a sua lista de Favoritos"><img src="~/Content/SVG/favorito.svg" /> Favoritar</button>
                    }
                    @if (User.Identity.IsAuthenticated == true)
                    {
                        using (Html.BeginForm("InteresseSerie", "Explorar", FormMethod.Post))
                        {
                            @Html.AntiForgeryToken()
                            <input type="hidden" name="IdSerie" value="@item.SerieID" />
                            <button type="submit" class="btn btn-default BtnLike" data-toggle="tooltip" data-placement="bottom" title="Adicionar a lista de interesse"><img src="~/Content/SVG/like.svg" /> Interesse</button>
                        }

                    }
                    else
                    {
                        <button type="button" class="btn btn-default BtnLike" data-toggle="tooltip" data-placement="bottom" title="Faça o login para adicionar a sua lista de interesse"><img src="~/Content/SVG/like.svg" /> Interesse</button>
                    }
                    <button href="#trailer" class="btn btn-default BtnFavorito">
                        <img src="~/Content/SVG/play.svg" /> Assistir trailer
                    </button>
                    <div>
                        <br />
                        <h2 class="text-white">Sinopse</h2>
                        <p class="text-justify text-white">@item.Sinopse</p>
                    </div>
                </div>

            </div>
        </div>
    </div>
}






<div class="container">
    <div id="temporada">
        <hr />
        <h3>Temporadas</h3>
        <hr />
        <div id="accordion">

            <div class="card">
                <div class="card-header" id="headingOne">
                    @foreach (var item in Model.temporada)
                    {
                        <h5 class="mb-0">
                            <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">@item.TemporadaID</button>
                        </h5>
                    }

                </div>

                <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
                    <div class="card-body">

                    </div>
                </div>
            </div>

        </div>
    </div>


    <div id="trailer">
        <hr />
        <h3>Trailer</h3>
        <hr />
        <div class="embed-responsive embed-responsive-16by9">
            <iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/1jP6C8My3Zc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
    </div>



    <div class="row">
        <div class="col-lg-12">

            <h4 class="page-header" style="padding-top:40px; padding-bottom:40px;">Indicações</h4>

            <div class="card-group">

                @foreach (var item in Indicacoes)
                {
                    <div class="card">
                        <img class="card-img-top" src="@item.Imagem" alt="Card image cap" style="height:150px; width:100px;">
                        <div class="card-body">
                            <h5 class="card-title">Card title</h5>
                            <p class="card-text">@item.NomeSerie</p>
                        </div>
                        <div class="card-footer">
                            <small class="text-muted">Last updated 3 mins ago</small>
                        </div>
                    </div>
                }
            </div>
        </div>

    </div>
    <div id="coments">
        <hr />
        <h4>Comentarios</h4>
        <hr />
        <div class="fb-comments" data-href="https://www.facebook.com/serieweb2018/" data-numposts="5"></div>
    </div>
</div>



@section Scripts {
    @Scripts.Render("~/bundles/popper")
    @Scripts.Render("~/bundles/bootstrap")
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })


    

        (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = 'https://connect.facebook.net/pt_BR/sdk.js#xfbml=1&version=v2.12';
            fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'facebook-jssdk'));

         

    </script>
}