@model List<SerieWeb.Models.Admininstracao.SeriesServicos>
@{
    ViewBag.Title = "Serviços de Streaming";
    var HBO = (List<SerieWeb.Models.Admininstracao.SeriesServicos>)ViewBag.HBO;
    var NETFLIX = (List<SerieWeb.Models.Admininstracao.SeriesServicos>)ViewBag.NETFLIX;
    var PRIMEVIDEO = (List<SerieWeb.Models.Admininstracao.SeriesServicos>)ViewBag.PRIMEVIDEO;
    var SONY = (List<SerieWeb.Models.Admininstracao.SeriesServicos>)ViewBag.SONY;
    var FOXPLAY = (List<SerieWeb.Models.Admininstracao.SeriesServicos>)ViewBag.FOXPLAY;

    var MelhorServico = (SerieWeb.Models.Admininstracao.ServicoStreaming)ViewBag.MelhorServico;

    float totalservicos = HBO.Count() + PRIMEVIDEO.Count() + NETFLIX.Count() + SONY.Count() + FOXPLAY.Count();

    float porcetagemHBO = (HBO.Count() / totalservicos) * 100;
    float porcetagemNETFLIX = (NETFLIX.Count() / totalservicos) * 100;
    float porcetagemPrimeVideo = (PRIMEVIDEO.Count() / totalservicos) * 100;
    float porcetagemSony = (SONY.Count() / totalservicos) * 100;
    float porcetagemFoxPlay = (FOXPLAY.Count() / totalservicos) * 100;
}
<div class="panel-header panel-header-sm">

</div>

<nav class="navbar navbar-expand-lg navbar-light bg-light" style="border-bottom:4px solid #e4e4e4;">
    <div class="container" style="margin-top:0">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample07" aria-controls="navbarsExample07" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarsExample07">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    @Html.ActionLink("Favoritos", "Index", "Perfil", new { area = "" }, new { id = "Favorito", @class = "nav-link perfil-menu" })
                </li>
                <li class="nav-item">
                    @Html.ActionLink("Recomendações", "Recomendado", "Perfil", new { area = "" }, new { id = "Recomendado", @class = "nav-link perfil-menu" })
                </li>
                <li class="nav-item">
                    @Html.ActionLink("Serviços Streaming", "Servico", "Perfil", new { area = "" }, new { id = "Servico", @class = "nav-link perfil-menu" })
                </li>
                <li>
                    @Html.ActionLink("Configurações", "Index", "Manage", routeValues: null, htmlAttributes: new { title = "Manage", @class = "nav-link perfil-menu" })
                </li>
            </ul>

        </div>
    </div>
</nav>

<div class="container">
    <h4 style="margin-bottom: 40px;">Melhores Serviços</h4>
    <div class="row">


        <div class="box">
            <label class="recomended">Recomendação</label>
            <h2 class="font-weight-bold text-uppercase" style="margin-bottom: 20px;">Netflix</h2>
            <ul style="list-style-type:none; padding:0; margin-bottom:30px;">
                <li style="margin-bottom:30px;">
                    <p class="text text-center">Você possui @NETFLIX.Count() séries nos favoritos da @NETFLIX.Select(D => D.ServicoStreaming.NomeServicoStreaming)</p>
                </li>

                <li style="margin-bottom:30px;">
                    <div class="progress" style="height: 20px;">
                        <div class="progress-bar progress-bar-striped bg-danger" role="progressbar" style="width:@String.Format("{0}", porcetagemNETFLIX)%" aria-valuenow="@String.Format("{0}", porcetagemNETFLIX)" aria-valuemin="0" aria-valuemax="100">@String.Format("{0}", porcetagemNETFLIX)%</div>
                    </div>
                </li>

            </ul>

            <h2 class="text text-center">R$ @MelhorServico.Preco</h2>
        </div>
        <div class="box">
            <label class="recomended">Recomendação</label>
            <h2 class="font-weight-bold text-uppercase" style="margin-bottom: 20px;">Netflix</h2>
            <ul style="list-style-type:none; padding:0; margin-bottom:30px;">
                <li style="margin-bottom:30px;">
                    <p class="text text-center">Você possui @PRIMEVIDEO.Count() séries nos favoritos da @PRIMEVIDEO.Select(D => D.ServicoStreaming.NomeServicoStreaming)</p>
                </li>

                <li style="margin-bottom:30px;">
                    <div class="progress" style="height: 20px;">
                        <div class="progress-bar progress-bar-striped bg-danger" role="progressbar" style="width:@String.Format("{0}", porcetagemPrimeVideo)%" aria-valuenow="@String.Format("{0}", porcetagemPrimeVideo)" aria-valuemin="0" aria-valuemax="100">@String.Format("{0}", porcetagemPrimeVideo)%</div>
                    </div>
                </li>

            </ul>

            <h2 class="text text-center">R$ @FOXPLAY.Select(D => D.ServicoStreaming.Preco)</h2>
        </div>
        <div class="box">
            <label class="recomended">Recomendação</label>
            <h2 class="font-weight-bold text-uppercase" style="margin-bottom: 20px;">Netflix</h2>
            <ul style="list-style-type:none; padding:0; margin-bottom:30px;">
                <li style="margin-bottom:30px;">
                    <p class="text text-center">Você possui @FOXPLAY.Count() séries nos favoritos da @FOXPLAY.Select(D => D.ServicoStreaming.NomeServicoStreaming)</p>
                </li>

                <li style="margin-bottom:30px;">
                    <div class="progress" style="height: 20px;">
                        <div class="progress-bar progress-bar-striped bg-danger" role="progressbar" style="width:@String.Format("{0}", porcetagemFoxPlay)%" aria-valuenow="@String.Format("{0}", porcetagemFoxPlay)" aria-valuemin="0" aria-valuemax="100">@String.Format("{0}", porcetagemFoxPlay)%</div>
                    </div>
                </li>

            </ul>

            <h2 class="text text-center">R$ @FOXPLAY.Select(D => D.ServicoStreaming.Preco)</h2>
        </div>
        <div class="box">
            <label class="recomended">Recomendação</label>
            <h2 class="font-weight-bold text-uppercase" style="margin-bottom: 20px;">Netflix</h2>
            <ul style="list-style-type:none; padding:0; margin-bottom:30px;">
                <li style="margin-bottom:30px;">
                    <p class="text text-center">Você possui @SONY.Count() séries nos favoritos da @SONY.Select(D => D.ServicoStreaming.NomeServicoStreaming)</p>
                </li>

                <li style="margin-bottom:30px;">
                    <div class="progress" style="height: 20px;">
                        <div class="progress-bar progress-bar-striped bg-danger" role="progressbar" style="width:@String.Format("{0}", porcetagemSony)%" aria-valuenow="@String.Format("{0}", porcetagemSony)" aria-valuemin="0" aria-valuemax="100">@String.Format("{0}", porcetagemSony)%</div>
                    </div>
                </li>

            </ul>

            <h2 class="text text-center">R$ @HBO.Select(D => D.ServicoStreaming.Preco)</h2>
        </div>
        <div class="box">
            <label class="recomended">Recomendação</label>
            <h2 class="font-weight-bold text-uppercase" style="margin-bottom: 20px;">Netflix</h2>
            <ul style="list-style-type:none; padding:0; margin-bottom:30px;">
                <li style="margin-bottom:30px;">
                    <p class="text text-center">Você possui @HBO.Count() séries nos favoritos da @HBO.Select(D => D.ServicoStreaming.NomeServicoStreaming)</p>
                </li>

                <li style="margin-bottom:30px;">
                    <div class="progress" style="height: 20px;">
                        <div class="progress-bar progress-bar-striped bg-danger" role="progressbar" style="width:@String.Format("{0}", porcetagemHBO)%" aria-valuenow="@String.Format("{0}", porcetagemHBO)" aria-valuemin="0" aria-valuemax="100">@String.Format("{0}", porcetagemHBO)%</div>
                    </div>
                </li>

            </ul>

            <h2 class="text text-center">R$ @HBO.Select(D => D.ServicoStreaming.Preco)</h2>
        </div>
        @*<div class="box">
            <h2>HBO Now</h2>
            <ul>
                <li>4k, FullHD and HD resolutions</li>
                <li>More than 250 movies</li>
                <li>Original content</li>
                <li>Discounts on credit card</li>
            </ul>

            <h1>US$ 25,00</h1>
        </div>

        <div class="box">
            <h2>Mubi</h2>
            <ul>
                <li>4k, FullHD and HD resolutions</li>
                <li>More than 2000 movies</li>
                <li>The better selection</li>
                <li>Discounts on credit card</li>
            </ul>

            <h3>US$ 10,00</h3>
        </div>
        <div class="box">
            <h2>Mubi</h2>
            <ul>
                <li>4k, FullHD and HD resolutions</li>
                <li>More than 2000 movies</li>
                <li>The better selection</li>
                <li>Discounts on credit card</li>
            </ul>

            <h3>US$ 10,00</h3>
        </div>
        <div class="box">
            <h2>Mubi</h2>
            <ul>
                <li>4k, FullHD and HD resolutions</li>
                <li>More than 2000 movies</li>
                <li>The better selection</li>
                <li>Discounts on credit card</li>
            </ul>

            <h3>US$ 10,00</h3>
        </div>*@
    </div>
    @*<div class="row" style="margin-bottom:10px">
            <div class="col-12">
                <p class="font-weight-normal"> HBO</p>
                <div class="progress" style="height: 20px;">
                    <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width:@String.Format("{0}", porcetagemHBO)%" aria-valuenow="@String.Format("{0}", porcetagemHBO)" aria-valuemin="0" aria-valuemax="100">@String.Format("{0}", porcetagemHBO) %</div>
                </div>
            </div>
        </div>
        <div class="row" style="margin-bottom:10px">
            <div class="col-12">
                <p class="font-weight-normal"> Netflix</p>
                <div class="progress" style="height: 20px;">
                    <div class="progress-bar progress-bar-striped bg-danger" role="progressbar" style="width:@String.Format("{0}", porcetagemNETFLIX)%" aria-valuenow="@String.Format("{0}", porcetagemNETFLIX)" aria-valuemin="0" aria-valuemax="100">@String.Format("{0}", porcetagemNETFLIX)%</div>
                </div>
            </div>
        </div>
        <div class="row" style="margin-bottom:10px">
            <div class="col-12">
                <p class="font-weight-normal"> Amazon Prime</p>
                <div class="progress" style="height: 20px;">
                    <div class="progress-bar progress-bar-striped bg-warning" role="progressbar" style="width:@String.Format("{0}", porcetagemAMAZON)%" aria-valuenow="@String.Format("{0}", porcetagemAMAZON)" aria-valuemin="0" aria-valuemax="100">@String.Format("{0}", porcetagemAMAZON)%</div>
                </div>
            </div>
        </div>*@

    <div class="alert alert-success" role="alert" style="margin-top:50px">
        <div class="container-fluid">
            <h4 class="alert-heading">Recomendação</h4>
            <p>Nome: @MelhorServico.NomeServicoStreaming</p>
            <p>Preço: R$ @MelhorServico.Preco</p>
            <hr>
            @*<p class="mb-0">Continue adicionado series aos favoritos para ver qual melhor serviço lhe atende</p>*@
            <p class="mb-0">Esta indição de Serviço é baseado nos seus favoritos continue adicionando para descobrir o que melhor lhe atende!</p>
        </div>
    </div>

</div>

@section Scripts {
    @Scripts.Render("~/bundles/popper")
    @Scripts.Render("~/bundles/bootstrap")
    <script>
        $(document).ready(function () {
            $("#Servico").addClass('perfil-menu-active');
        });

    </script>
}
